# Домашнее задание к занятию "12.8. «Резервное копирование баз данных» - Баранков Антон"

### Задание 1

1.1. Полное резервное копирование базы данных за предыдущий день.  
1.2. Инкрементное резервное копирование базы данных каждый час, либо можно использовать дифференциальное резервное копирование.  
1.3.* Для моментального переключения на работающую или починенную базу данных можно использовать технологию репликации.  

### Задание 2
2.1. Пример команды резервирования данных:  
pg_dump -U username -h localhost dbname > backup.sql  
где:  
username - имя пользователя;  
localhost - имя хоста;  
dbname - имя базы данных;  
backup.sql - имя файла резервной копии.  

Пример команды восстановления БД:  
pg_restore -U username -h localhost -d dbname backup.sql  
где:  
username - имя пользователя;  
localhost - имя хоста;  
dbname - имя базы данных;  
backup.sql - имя файла резервной копии.  

2.1.* Для автоматизации процесса можно использовать утилиту wal-g, либо можно написать скрипт и использовать утилиту cron.  

### Задание 3
3.1. mysqlbackup --incremental --incremental-base=dir/to/full/backup/dir --user=user_name --password=password backup-to-directory  
где  
incremental - опция для создания инкрементальной резервной копии БД    
incremental-base=dir/to/full/backup/dir - опция для указания директории с полной резервной копией, на основе которой будет создана инкрементальная резервная копия  
user=user_name - опция для указания имени пользователя MySQL  
password=password - опция для указания пароля пользователя MySQL  
backup-to-directory - директория, в которую будет сохранена инкрементальная резервная копия.  

3.1.* Если необходимо сделать резервное копирование базы данных без остановки работы приложения, то можно создать реплику и выполнять резервное копирование с реплики, не затрагивая основную БД.  
Если требуется повысить производительность приложения, можно использовать реплику для распределения нагрузки между несколькими серверами.  
В случае отказа основной БД, можно быстро переключиться на реплику и продолжить работу без простоев.
